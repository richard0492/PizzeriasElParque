var bs=function(){var n=function(n){this.events={};this.submitted=!1;this.eventsMapper={closed:"closed",submitted:"submitted"};this.metadata=$.extend({Id:"myModal",content:"content...",headerText:"&nbsp;",actionButtonText:"Yes, Continue",actionButtonClass:"btn-primary",closeButtonText:"Close",appendTo:"",contentTemplateId:null,bindingData:null,largeModal:!1},n||{})};return n.prototype={init:function(){var t=this,n=$.Deferred();return this.modalId().length!==0&&this.modalId().remove(),$.get("/templates/modaltmpl.htm").done(function(i){t.setup(i);n.resolve()}),n.promise()},setup:function(n){var t=this,i,r,u;this.metadata.contentTemplateId!=null&&(_.templateSettings.variable="",i=$(this.metadata.contentTemplateId).html(),this.metadata.content=i,r=_.template(this.metadata.content),this.metadata.content=r(this.metadata.bindingData));_.templateSettings.variable="rc";u=_.template(n);this.metadata.appendTo=this.metadata.appendTo||"body";$(this.metadata.appendTo).append(u(this.metadata));$("#"+this.metadata.Id+" .modalActionButton").click(function(n){n.preventDefault();t.submitted=!0;t.emit(t.eventsMapper.submitted,n)});$("#"+this.metadata.Id).on("hidden.bs.modal",function(n){t.submitted||t.emit(t.eventsMapper.closed,n)})},show:function(n){var t=this;$.when(this.init()).then(function(){t.modalId().modal(t.metadata);typeof n=="function"&&n()})},hide:function(){this.modalId().modal("hide")},hideCloseButtons:function(){this.modalId().find(".modalCloseButton").hide()},showCloseButtons:function(){$(".modalCloseButton").show()},hidePrimaryButtons:function(){this.modalId().find(".btn-primary").hide()},on:function(n,t){this.events[n]||(this.events[n]=[]);this.events[n].push(t)},emit:function(n,t){var i=this.events[n];i&&i.forEach(function(n){n(t)})},modalId:function(){return $("#"+this.metadata.Id)}},{ModalDialog:n}}(this,this.document);
/*
//# sourceMappingURL=bs.Modal.min.js.map
*/